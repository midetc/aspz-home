Програма виконує такі кроки. Спочатку зчитує поточний час у змінну start через clock_gettime(CLOCK_MONOTONIC). Далі виконує фрагмент коду (тут — порожній цикл з 100 млн ітерацій). Після завершення циклу знов читає час у end. Різницю секунд та наносекунд конвертує в мілісекунди та виводить. Використання монотонного годинника гарантує коректне вимірювання навіть при зміні системного часу.
1 10mln iteration
2 100mln iteration