Рішення
Програма відкриває поточний каталог через opendir() і читає всі записи readdir(), пропускаючи приховані (ім’я починається з '.'). Для кожного файлу викликається stat(), щоб отримати struct stat із набором метаданих. Функція print_mode() перетворює поле st_mode на рядок із 10 символів: тип (d для директорії, l для символічного лінку, - для звичайного файлу) і три потрійні набори прав (rwx) для власника, групи й інших. Імена власника та групи отримуються через getpwuid() та getgrgid(). Час останньої модифікації форматують у стилі %b %e %H:%M (наприклад, Jun  4 14:12). Нарешті всі поля виводяться через printf() у тому ж порядку, як у ls -l.
# Для порівняння ls -l